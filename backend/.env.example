# Backend Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================================================
# Database Configuration
# ============================================================================

# Standard connection mode (local development)
DATABASE_URL=mysql+pymysql://app_user:password@db:3306/app_db

# Cloud SQL Connector mode (production/cloud) - uncomment if needed
# USE_CLOUD_SQL_CONNECTOR=true
# CLOUDSQL_INSTANCE=project-id:region:instance-name
# DB_USER=your-db-user
# DB_NAME=your-database-name
# CLOUDSQL_IP_TYPE=PRIVATE  # PRIVATE or PUBLIC
# ENABLE_IAM_AUTH=true  # or false for password auth
# DB_PASS=your-db-password  # required if ENABLE_IAM_AUTH=false

# ============================================================================
# Flask Configuration
# ============================================================================

FLASK_ENV=development  # development, testing, or production

# ============================================================================
# JWT Configuration
# ============================================================================

# Secret key for JWT token signing (CHANGE THIS IN PRODUCTION!)
JWT_SECRET_KEY=your-secret-key-here-change-in-production

# Token expiration times
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours
REFRESH_TOKEN_EXPIRE_DAYS=7       # 7 days

# ============================================================================
# Admin User Configuration
# ============================================================================

# Admin user email address (required)
ADMIN_EMAIL=admin@example.com

# Option 1: Admin password hash (bcrypt format) - RECOMMENDED for security
# Generate this hash using: poetry -C backend run python backend/scripts/generate_admin_hash.py
# IMPORTANT: This must be a bcrypt hash, NOT a plain text password!
# Example hash format: $2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5UpCCaa70.MYW
ADMIN_PASSWORD_HASH=your-bcrypt-hash-here

# Option 2: Admin plain text password - SIMPLER but less secure
# The password will be automatically hashed with bcrypt at runtime
# Use this only for development/testing or if you manage passwords via GitHub Secrets
# ADMIN_PASSWORD=YourSecurePassword123

# IMPORTANT:
# - If both are set, ADMIN_PASSWORD_HASH takes priority
# - For production deployments via GitHub Actions, set ADMIN_EMAIL and ADMIN_PASSWORD_HASH
#   as GitHub Secrets (Settings > Secrets and variables > Actions)

# ============================================================================
# Logging Configuration
# ============================================================================

LOG_LEVEL=DEBUG  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_DIR=logs     # Directory for log files

# ============================================================================
# Frontend Configuration
# ============================================================================

# Frontend URL for CORS
FRONTEND_URL=http://localhost:5173

# ============================================================================
# Rate Limiting (optional)
# ============================================================================

# Redis connection for rate limiting (if using redis backend)
# REDIS_URL=redis://localhost:6379/0
